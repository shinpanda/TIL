# 📖 오늘 읽은 범위 : 6장.배열
## 😄 책에서 기억하고 싶은 내용을 써보세요.

## 6.1 배열 타입
### 6.1.1 배열과 함수 타입

배열 타입은 함수 타입에 무엇이 있는지를 구별하는 괄호가 필요한 구문 컨테이너의 예이다.  

괄호는 애너테이션의 어느 부분이 함수 반환 부분이고 어느 부분이 배열 타입 묶음인지를 나타내기 위해 사용한다.  
```typescript
  // 타입은 string 배열을 반환하는 함수
  let createStrings: () => string[];

  // 타입은 각각의 string을 반환하는 함수 배열
  let stringCreators: (() => string)[];
```

### 6.1.2 유니언 타입 배열
배열의 각 요소가 여러 선택 타입 중 하나일 수 있음을 나타낼 수 있다.  
```typescript
  // 타입은 string 또는 number[]
  let stringOrArrayOfNumbers: string | number[];

  // 타입은 각각 numbwe 또는 string인 요소의 배열
  let arrayOfStringOrNumbers: (string | number)[];
```

배열의 요소 타입은 배열에 담긴 요소에 대한 모든 가능한 타입의 집합이다.  

### 6.1.3 any 배열의 진화
초기에 빈 배열로 설정된 변수에서 타입 애너테이션을 포함하지 않으면 타입스크립트는 배열을 any[]로 취급하고 모든 콘텐츠를 받을 수 있다. 이는 좋지 않다.  
```typescript  
  let values = []; // : any[]

  values.push(''); // : string[]

  values[0] = 0; // : (number | string)[]
```

### 6.1.4 다차원 배열
2차원 배열은 두 개의 대괄호([])를 갖는다.  
number[][] 타입은 (number[])[]로 나타낼 수 있다.  

## 6.2 배열 멤버
타입스크립트는 배열의 멤버를 찾아서 해당 배열의 타입 요소를 되돌려주는 전형적인 인덱스 기반 접근 방식을 이해하는 언어이다.  
(string | Date)[] 타입의 배열의 변수는 string | Date 타입이다.  

### 6.2.1 주의 사항: 불안정한 멤버
대부분 올바른 타입을 얻을 수 있지만, 때로는 값 타입에 대한 타입 시스템의 이해가 올바르지 않을 수 있다.  
특히 배열은 타입 시스템에서 불안정한 소스이다.  
예시) 배열의 크기보다 큰 인덱스로 배열에 접근할 때, 타입스크립트는 해당 배열에 멤버가 존재하는지 확인하지 않는다.  

## 6.3 스프레드와 나머지 매개변수
### 6.3.1 스프레드
... 스프레드 연산자를 사용해 배열 결합.  
입력된 배열이 동일한 타입이면 출력 배열도 동일. 서로 다른 타입의 두 배열을 결합할 경우 두 타입 중 하나를 나타내는 유니언 타입 배열로 이해한다.  

### 6.3.2 나머지 매개변수
``` typescript
  function logMarriors(greeting: string, ...names: string[]) { ... }
```
위처럼 나머지 매개변수인 names를 string[] 타입으로 선언하면 나머지 매개변수에는 string 값만 받도록 한다.  

## 6.4 튜플
고정된 크기의 배열
자바스크립트에서는 단일 조건을 기반으로 두 개의 변수에 초깃값을 설정하는 것처럼 한 번에 여러 값을 할당하기 위해 튜플과 배열 구조 분해 할당(array destructuring)을 함께 자주 사용한다.

### 6.4.1 튜플 할당 가능성
타입스크립트에서 튜플 타입은 가변 길이(variable length) 의 배열 타입보다 더 구체적으로 처리된다. 즉, 가변 길의의 배열 타입은 튜플 타입에 할당할 수 없다.  

**나머지 매개변수로서의 튜플**  
타입스크립트는 ... 나머지 매개변수로 전달된 튜플에 정확한 타입 검사를 제공할 수 있다.  

### 6.4.2 튜플 추론
타입스크립트는 생성된 배열을 튜플이 아닌 가변 길이의 배열로 취급한다. 배열이 변수의 초깃값 또는 함수에 대한 반환값으로 사용되는 경우, 고정한 크기의 튜플이 아닌 유연한 크기의 배열로 가정한다.  
  
타입스크립트에서는 값이 일반적인 배열 타입 대신 좀 더 구체적인 튜플 타입이어야 함을 다음 두 가지 방법으로 나타낸다. 명시적 튜플 타입과 const 어서션(assertion)을 사용한 방법이다.  

**명시적 튜플 타입**  
타입 애너테이션으로 튜플 타입을 선언하는 것.  
함수가 튜플 타입을 반환한다고 선언되고, 배열 리터럴을 반환한다면 해당 배열 리터럴은 일반적인 가변 길이의 배열 대신 튜플로 간주된다.  
```typescript
  function firstCharAndSizeExplict(input: string): [string, number] { return [input, input.length]; }
```

**const 어서션**  
명시적 타입 애너테이션에 튜플 타입을 입력하는 작업은 코드 변경에 따라 작성 및 수정이 필요한 구문을 추가해야 하는 번거로룸이 있다.  
그 대안으로 const 어서션인 as const 연산자를 제공한다. const 어서션은 타입스크립트에 타입을 유추할 때 읽기 전용(read-only)이 가능한 값 형식을 사용하도록 지시한다.  
다음과 같이 배열 리터럴 뒤에 as const가 배치되면 배열이 튜플로 처리되어야 함을 나타낸다.  
```typescript
  const unionArray = [1157, "Tomoe"]; // (string | number)[]
  
  const readOnlyTuple = [1157, "Tomoe"] as const; // readonly [1157, "Tomoe"] 
```
const 어서션은 유연한 크기의 배열을 고정된 크기의 튜플로 전환하는 것을 넘어, 해당 튜플이 읽기 전용이고 값 수정이 예상되는 곳에서 사용할 수 없음을 나타낸다.  
수정이 불가능하기 때문에 실제로 읽기 전용 투플은 함수 반환에 편리하다. 튜플을 반환하는 함수로부터 반환된 값은 보통 즉시 구조화되지 않으므로 읽기 전용인 튜플은 함수를 사용하는데 방해가 되지 않는다.ㅅ


## 🤔 오늘 읽은 소감은? 떠오르는 생각을 가볍게 적어보세요
오늘은 이 책을 읽어서 다행이란 생각을 좀 했다.  
혼자서 개발하면 생각치 못한 코드들을 봤다. 당연하다고 생각한 것들을 조금만 틀어도 다른 의미가 되버리니까.  
튜플은 파이썬을 공부하면서 봤었는데, 타입스크립트에서도 보니 좀 반갑다는 좀 뻘한 생각도 들었고,  
내가 아무리 이건 튜플이야! 해도 명시적이거나 읽기 전용으로 값을 읽게 하는 형식으로 사용하겠다고 하지 않고 그냥 막 써버리면 타입이 내가 원하는대로 되지 않을 수 있음을 유의해야겠단 생각이 들었다.
