# 📖 오늘 읽은 범위 : 10장. 제네릭

## 😄 책에서 기억하고 싶은 내용을 써보세요

- 타입 간의 관계를 알아낼 때, 재네릭을 사용한다.
- 타입스크립트에서 함수와 같은 구조체는 제네릭 타입 매개변수를 원하는 수만큼 선언할 수 있다.
- 타입 매개변수는 구조체의 각 인스턴스에 대해 타입 인수라고 하는 서로 다른 타입을 함께 제공할 수 있지만, 타입 인수가 제공된 인스턴스 내에서는 일관성을 유지한다.
- 타입 매개변수는 전형적으로 T나 U같은 단일 문자 이름 또는 Key와 Value 같은 파스칼 케이스 이름을 갖는다.

**제네릭 함수**

- 함수에 타입 매개변수를 추가하면 타입 안정성을 유지하고 any 타입을 피하면서 다른 입력과 함께 재사용할 수 있다.

**명시적 제네릭 호출 타입**

- 제네릭 함수를 호출할 때 대부분의 타입스크립트는 함수가 호출되는 방식에 따라 타입 인수를 유추한다.
  기본값이 unknown으로 설정되는 것을 피하기 위해 타입스크립트에 해당 타입 인수가 무엇인지 명시적으로 알려주는 명시적 제네릭 타입 인수를 사용해 함수를 호출할 수 있다.

**keyof와 제한된 타입 매개변수**

```typescript
    function get<T, Key extneds keyof T>(container: T, key: Key){
        return container[key];
    }
```

- T로 입력된 container 값과 container에서 검색할 수 있는 T의 key 중 하나의 key 이름을 받는다. key 타입 매개변수는 keyof T로 제한되기 때문에 타입스크립트는 이 함수가 T[Key]를 반환할 수 있음을 안다.
- **Promise**
  자바스크립트의 Promise는 네트워크 요청과 같이 요청 이후 결과를 받기까지 대기가 필요한 것을 나타낸다.
  각 Promise는 대기 중인 작업이 'resolve' 또는 'reject'하는 경우 콜백을 등록하기 위한 메서드를 제공한다.  
  임의의 값 타입에 대해 유사한 작업을 나타내는 Promise의 기능은 타입스크립트의 제네릭과 자연스럽게 융합된다. Promise는 타입스크립트 타입 시스템에서 최종적으로 resolve된 값을 나타내는 단일 타입 매개변수를 가진 Promise 클래스로 표현된다.

  **async 함수**
  자바스크립트에서 async 함수에 따라서 반환된 값이 Thenable(.then() 메서드가 있는 객체, 실제로는 거의 항상 Promise)이 아닌 경우, Promise.resolve가 호출된 것처럼 Promise로 래핑(wrapping)된다.

- 함수에 타입 매개변수가 필요한지 여부를 판단할 수 있는 간단하고 빠른 방법은 타입 매개변수가 최소 두 번 이상 사용되었는지 확인하는 것이다. 제네릭은 타입 간의 관계를 설명하므로 제네릭 타입 매개변수가 한 곳에만 나타나면 여러 타입 간의 관계를 정의할 수 없다. 따라서 각 함수 타입 매개변수는 매개변수에 사용되어야 하고, 그다음 적어도 하나의 다른 매개변수 또는 함수의 반환 타입에서도 사용되어야 한다.

- 제네릭 명명 규칙 : 기본적으로 T, U, V...
  - 타입 인수가 어떻게 사용되어야 하는지 맥락과 관련된 정보가 알려진 경우 명명 규칙은 경우에 따라 해당 용어의 첫 글자를 사용하는 것으로 확장된다. 예를 들어 상태 관리 라이브러리에서는 제네릭 상태를 S로, 데이터 구조의 키와 값은 K와 V로 나타내기도 한다.
  - 하지만 불행히도 하나의 문자를 사용하는 타입 인수명은 하나의 문자로 함수나 변수의 이름을 사용하는 것만큼 혼란스러울 수 있다.
  - 제네릭의 의도가 단일 문자 T에서 명확하지 앟은 경우에는 타입이 사용되는 용도를 가리키니는 설명적인 제네릭 타입 이름을 사용하는 것이 가장 좋다.

```typescript
    function labelBox<Label, Value>(label: Label, value: Value) { ... }
```

- 구조체가 여러 개의 타입 매개변수를 갖거나 단일 타입 인수의 목적이 명확하지 않을 때마다 단일 문자 약어 대신 가독성을 위해 완전히 작성된 이름을 사용하는 것이 좋다.

## 🤔 오늘 읽은 소감은? 떠오르는 생각을 가볍게 적어보세요

제네릭은 다른 언어에서도 있는 개념이라 이해하는 것이 어려운 것은 아니지만 역시 `keyof` 키워드가 변수처럼 작동한다.
제네릭은 개념은 알지만 잘만 사용하면 좋은 코드를 짤 수 있을텐데, 많이 사용하지 않았던 것 같다.
약간 단순한 거라도 적용해보면서 익히는 게 좋을 것 같다.
