# 📖 오늘 읽은 범위 : 5장.함수
## 😄 책에서 기억하고 싶은 내용을 써보세요.
### 5.1 함수 매개변수
#### 5.1.1 필수 매개변수
자바스크립트에서는 인수의 수와 상관없이 함수를 호출할 수 읺으나, 타입스크립트는 함수에 선언된 모든 매개변수가 필수라고 가정한다.  
함수가 너무 적거나 많은 인수로 호출되면 타입스크립트는 인수의 개수를 계산한다.  
함수에 필수 매개변수(required parameter)를 제공하도록 강제하면 예상되는 모든 인숫값을 함수 내에 존재하도록 만들어 타입 안정성을 강화하는 데 도움이 된다.  

#### 5.1.2 선택적 매개변수  
타입 스크립트에서는 선택적 객체 타입 속성과 유사하게 타입 애너테이션의 `:` 앞에 `?`를 추가해 매개변수가 선택적이라고 표시.  
함수 호출에 선택적 매개변수(optional parameter)를 제공할 필요는 없습니다. 선택적 매개변수에는 항상 `| undefined`가 유니언 타입으로 추가되어 있다. 
선택적 매개변수는 | undefined를 포함하는 유니언 타입 매개변수와는 다르다. ?으로 표시된 선택적 매개변수가 아닌 값이 명시적으로 undefined일지라도 항상 제공되어야 한다. 

함수에서 사용되는 모든 선택적 매개변수는 마지막 매개변수여야 한다. 필수 매개변수 전에 선택적 매개변수를 위치시키면 타입스크립트 구문 오류가 발생한다.  

#### 5.1.3 기본 매개변수 
자바스크립트에서 선택적 매개변수를 선언할 때 =와 같이 포함된 기본값을 제공할 수 있다. 
선택적 매개변수에는 기본적으로 값이 제공되기 때문에 해당 타입스크립트는 함수이 매개변수에 대해 인수를 누락하거나 undefined 인수를 사용해서 호출하는 것을 여전히 허용한다. 

매개변수에 기본값이 있고 타입 애너테이션이 없는 경우, 타입스크립트는 해당 기본값을 기반으로 매개변수 타입을 유추한다.

#### 5.1.4 나머지 매개변수
... 스프레드 연산자는 함수 선언의 마지막 매개변수에 위치하고, 해당 매개변수에서 시작해 함수에 전달된 '나머지rest'인수가 모두 단일 배열에 저장되어야 함을 나타낸다.

### 5.2 반환 타입
타입스크립트는 지각적(perceptive)이다.
#### 5.2.1 명시적 반환 타입
- 가능한 반환값이 많은 함수가 항상 동일한 타입의 값을 반환하도록 강제한다.
- 타입스크립트는 재귀 함수의 반환 타입을 통해 타입을 유추하는 것을 거부한다.
- 수백 개 이상의 타입스크립트 파일이 있는 매우 큰 프로젝트에서 타입스크립트 타입 검사 속도를 높일 수 있다.
```
function singSongsRecursive(songs: string[], count = 0): number {
  return songs.length ? singSongsRecursive(songs.slice(1), count + 1) : count;
}

const singSongsRecursive = (songs: string[], count = 0): number =>
  song.length ? singSongsRecursive(songs.slice(1), count + 1) : count;
```

### 5.3 함수 타입
함수를 가지기 위한 매개변수 또는 변수의 타입을 선언하는 방법
함수 타입(function type)구문은 화살표 함수와 유사하지만 함수 본문 대신 타입이 있다.
함수 타입은 콜백 매개변수(함수로 호출되는 매개변수)를 설며하는 데 자주 사용된다.

두 함수를 서로 할당할 수 없다는 오류를 출력할 때 타입스크립트는 일반적으로 세 가지 상세한 단계를 제공한다.
1. 첫번째 들여쓰기 단계는 두 함수의 타입을 출력한다.
2. 다음 들여쓰기 단계는 일치하지 않는 부분을 지정한다.
3. 마지막 들여쓰기 단게는 일치하지 않는 부분에 대한 정확한 할당 가능성 오류를 출력한다.

#### 5.3.1 함수 타입 괄호

유니언 타입의 애너테이션에서 함수 반환 위치를 나타내거나 유니언 타입을 감싸는 부분을 표시할 때 괄호를 사용한다.
```
  let returnsStringOrUndefined: () => string | undefined;
  let maybeReturnsString: (() => string) | undefined
```
함수 타입을 괄호로 묶어야 하는 다른 위치를 살펴보겠다.

#### 5.3.2 매개변수 타입 추론
매개변수로 사용되는 인라인 함수(inline function)를 포함하여 작성한 모든 함수에 대해 매개변수를 선언해야 한다면 번거로울 것이다.
타입스크립트는 선언된 타입의 위치에 제공된 함수의 매개변수 타입을 유추할 수 있다.
```
  let singer: (song: string) => string;
  singer = function (song) {
    return 'Singing: ${song.toUpperCase();}!';
  };
```
#### 5.3.3 함수 타입 별칭
```
  type StringToNumber = (input: string) => number;
  let stringToNumber: StringToNumber;
  stringToNumber = (input) => input.length;
```

### 5.4 그 외 반환타입
#### 5.4.1 void 반환 타입
`반환값이 없는 함수의 반환 타입을 선언할 때` void를 키워드를 사용한다.
자바스크립트 함수는 실제값이 반환되지 않으면 기본으로 모두 undefined를 반환하지만 void는 undefined와 동일하지 않다.
void는 함수의 반환 타입이 무시된다는 것을 의미하고 undefined는 반환되는 리터럴 값이다.
undefined를 포함하는 대신 void 타입의 값을 할당하려고 하면 타입 오류가 발생한다.

```
  function returnsVoid() {
    return;
  }
  
  let lazyValue: string | undefined;
  lazyValue = returnsVoid();
  
```
void를 반환하도록 선언된 타입 위치에 전달된 함수가 반환된 모든 값을 무시하도록 설정할 때 유용하다.  
void 타입은 자바스크립트가 아닌 함수의 반환 타입을 선언하는 데 사용하는 타입스크립트 키워드이다.  
void 타입은 함수의 반환값이 자체적으로 반환될 수 있는 값도 아니고, 사용하기 위한 것도 아니라는 표시이다.

#### 5.4.2 never 반환 타입
never 반환 함수는 (의도적으로) 항상 오류를 발생시키거나 무한 루프를 실행하는 함수이다.
`수가 절대 반환하지 않도록` 의도하려면 명시적 : never 타입 애너테이션을 추가해 `해당 함수를 호출한 후 모든 코드가 실행되지 않음`을 나타낸다.

```
  function fail(message: string): never {
    throw new Error(`Invariant failuere: ${message}.`);
  }
  
  function workWithUnsafeParam(param: unknown) {
    if (typeof param !== "string") {
      fail(`param should be a string, not ${typeof param}`);
    }
    
    param.toUpperCase();
  }
```

## 🤔 오늘 읽은 소감은? 떠오르는 생각을 가볍게 적어보세요
함수 타입 또한 type 형태로 구현하여 설계 단계에서 확실하게 사용할 수 있다면, 유용하긴 할 것이다.
이전 챌린지 강의에서 설계할 때 함수도 모두 타입으로 선언했었는데, 이걸 아직 강의 때만 해보고 실제로 해보지 않았다.
이러한 함수 타입 별칭을 사용한다면 확실히 더 좋은 코드를 짤 수 있지 않을까 라는 생각을 했다.
다음엔 이를 도입해서 한번 구현을 해봐야지
